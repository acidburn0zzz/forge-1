Refactoring:
-attempt to provide generic code with dynamicly loaded modules for specific server or protocol
